# Comparable

## Purpose

Mixin for objects that support comparison operations. Extends `Equable` and implements `SupportsComparison` protocol by delegating `<` to a single `key_comparison()` method.

Note: `@total_ordering` decorator automatically generates `<=`, `>`, `>=` from `__lt__()` and `__eq__()`.

## Public API

### Class Attributes

```python
Factory: type | None = None
```
Factory class for creating instances. Attached via `__init__.py`.

### Abstract Methods

```python
@abstractmethod
def key_comparison(self) -> SupportsComparison
```
Returns the key used for all comparison operations. Must be implemented by subclasses.

### Dunder Methods

```python
def __lt__(self, other: object) -> bool
```
Returns `self.key_comparison() < other.key_comparison()`. Returns `NotImplemented` if `other` is not a `Comparable`.

### Generated by @total_ordering

```python
def __le__(self, other: object) -> bool
def __gt__(self, other: object) -> bool
def __ge__(self, other: object) -> bool
```

### Inherited from Equable

```python
def __eq__(self, other: object) -> bool
```

## Inheritance (Hierarchy)

```
SupportsEquality (Protocol)
 └── Equable
      └── Comparable (+ SupportsComparison)
```

| Base | Responsibility |
|------|----------------|
| `SupportsEquality` | Protocol defining `__eq__` contract |
| `Equable` | Provides `__eq__` implementation via `key_comparison()` |
| `SupportsComparison` | Protocol defining `__lt__` contract |

## Dependencies

| Import | Purpose |
|--------|---------|
| `abc.abstractmethod` | Decorator for `key_comparison()` |
| `functools.total_ordering` | Generates comparison methods from `__lt__` and `__eq__` |
| `f_core.mixins.equable.Equable` | Base class providing equality |
| `f_core.protocols.comparison.SupportsComparison` | Protocol this class implements |

## Usage Example

```python
from f_core.mixins.comparable import Comparable


class Score(Comparable):
    def __init__(self, points: int):
        self.points = points

    def key_comparison(self) -> int:
        return self.points


s1 = Score(100)
s2 = Score(150)

s1 < s2   # True
s2 > s1   # True
s1 <= s1  # True
s1 == Score(100)  # True (from Equable)

# Sorting works
sorted([Score(50), Score(100), Score(75)])  # [Score(50), Score(75), Score(100)]
```

### Using the Factory

```python
from f_core.mixins.comparable import Comparable

a = Comparable.Factory.a()  # Char('A')
b = Comparable.Factory.b()  # Char('B')

a < b   # True
a == a  # True
```
